# ë¹„ì£¼ì–¼ ë…¸ë²¨ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± ê°€ì´ë“œ

ì´ ê°€ì´ë“œëŠ” LLMì´ ë¹„ì£¼ì–¼ ë…¸ë²¨ ê²Œì„ì˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•  ë•Œ ì°¸ê³ í•  ìˆ˜ ìˆë„ë¡ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

## ğŸ“‹ ê¸°ë³¸ êµ¬ì¡°

ìŠ¤í¬ë¦½íŠ¸ëŠ” **ë¸”ë¡(Block) ë‹¨ìœ„**ë¡œ ë¶„ë¦¬ë˜ë©°, ê° ë¸”ë¡ì€ ë…ë¦½ì ì¸ JSON íŒŒì¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤.

### ë¸”ë¡ íŒŒì¼ êµ¬ì¡°

```json
{
  "blockId": "ë¸”ë¡_ê³ ìœ _ID",
  "title": "ë¸”ë¡ ì œëª©",
  "startId": "ì‹œì‘_ì”¬_ID",
  "lines": [
    // ì”¬(Scene) ë°°ì—´
  ]
}
```

## ğŸ­ ì”¬(Scene) ì‘ì„±

ê° ì”¬ì€ í•˜ë‚˜ì˜ ëŒ€í™”, ì„ íƒì§€, ë˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

### ê¸°ë³¸ ëŒ€í™” ì”¬

```json
{
  "id": "scene_01",
  "type": "dialogue",
  "character": "ì‚¬ì¿ ë¼",
  "characterImage": "sakura_normal.svg",
  "characterPosition": "center-left",
  "background": "school_hallway.svg",
  "text": "ì•ˆë…•! ë‚˜ëŠ” ì‚¬ì¿ ë¼ì•¼.",
  "nextScriptId": "scene_02"
}
```

### ì„ íƒì§€ ì”¬

```json
{
  "id": "choice_01",
  "type": "choice",
  "character": "ë‚´ë ˆì´í„°",
  "characterPosition": "center",
  "background": "school_entrance.svg",
  "text": "ì–´ë””ë¡œ ê°€ë³¼ê¹Œ?",
  "choices": [
    {
      "text": "ë„ì„œê´€ìœ¼ë¡œ ê°„ë‹¤",
      "nextBlockId": "library_route"
    },
    {
      "text": "ì¹´í˜ë¡œ ê°„ë‹¤",
      "nextBlockId": "cafe_route"
    },
    {
      "text": "ì •ì›ìœ¼ë¡œ ê°„ë‹¤",
      "nextBlockId": "garden_route"
    }
  ]
}
```

### ì—”ë”© ì”¬

```json
{
  "id": "ending_scene",
  "type": "dialogue",
  "character": "ë‚´ë ˆì´í„°",
  "characterPosition": "center",
  "background": "sunset.svg",
  "text": "ê·¸ë ‡ê²Œ ì¦ê±°ìš´ í•˜ë£¨ê°€ ëë‚¬ë‹¤.",
  "nextBlockId": "ending"
}
```

## ğŸ“ í•„ë“œ ì„¤ëª…

### í•„ìˆ˜ í•„ë“œ

| í•„ë“œ | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|------|
| `id` | string | ì”¬ì˜ ê³ ìœ  ID | `"scene_01"` |
| `type` | string | ì”¬ íƒ€ì… (`"dialogue"` ë˜ëŠ” `"choice"`) | `"dialogue"` |
| `text` | string | í‘œì‹œë  í…ìŠ¤íŠ¸ | `"ì•ˆë…•í•˜ì„¸ìš”!"` |

### ì„ íƒì  í•„ë“œ

| í•„ë“œ | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|------|
| `character` | string | ìºë¦­í„° ì´ë¦„ | `"ì‚¬ì¿ ë¼"`, `"ìœ í‚¤"` |
| `characterImage` | string | ìºë¦­í„° ì´ë¯¸ì§€ íŒŒì¼ëª… | `"sakura_happy.svg"` |
| `characterPosition` | string | ìºë¦­í„° ìœ„ì¹˜ | `"left"`, `"center-left"`, `"center"`, `"center-right"`, `"right"` |
| `background` | string | ë°°ê²½ ì´ë¯¸ì§€ íŒŒì¼ëª… | `"school_entrance.svg"` |
| `nextScriptId` | string | ê°™ì€ ë¸”ë¡ ë‚´ ë‹¤ìŒ ì”¬ ID | `"scene_02"` |
| `nextBlockId` | string | ë‹¤ìŒ ë¸”ë¡ ID | `"library_route"` |
| `choices` | array | ì„ íƒì§€ ë°°ì—´ (typeì´ `"choice"`ì¼ ë•Œë§Œ) | ì•„ë˜ ì°¸ì¡° |

### ì„ íƒì§€ êµ¬ì¡°

```json
{
  "text": "ì„ íƒì§€ í…ìŠ¤íŠ¸",
  "nextScriptId": "ê°™ì€_ë¸”ë¡_ë‚´_ì”¬_ID",  // ë˜ëŠ”
  "nextBlockId": "ë‹¤ë¥¸_ë¸”ë¡_ID"
}
```

## ğŸ¨ ìºë¦­í„° & ì´ë¯¸ì§€ ì„¤ì •

### ìºë¦­í„° í¬ì§€ì…˜

- `left`: ì™¼ìª½ ë
- `center-left`: ì¤‘ì•™ ì™¼ìª½
- `center`: ì •ì¤‘ì•™
- `center-right`: ì¤‘ì•™ ì˜¤ë¥¸ìª½
- `right`: ì˜¤ë¥¸ìª½ ë

### ìºë¦­í„° ì´ë¯¸ì§€ ì˜ˆì‹œ

```
sakura_normal.svg      # ì‚¬ì¿ ë¼ - í‰ìƒì‹œ
sakura_happy.svg       # ì‚¬ì¿ ë¼ - í–‰ë³µ
sakura_portrait.svg    # ì‚¬ì¿ ë¼ - ì´ˆìƒí™” (ëŒ€í™”ì°½ìš©)
yuki_normal.svg        # ìœ í‚¤ - í‰ìƒì‹œ
yuki_happy.svg         # ìœ í‚¤ - í–‰ë³µ
yuki_portrait.svg      # ìœ í‚¤ - ì´ˆìƒí™”
```

### ë°°ê²½ ì´ë¯¸ì§€ ì˜ˆì‹œ

```
school_entrance.svg    # í•™êµ ì…êµ¬
school_hallway.svg     # í•™êµ ë³µë„
library.svg            # ë„ì„œê´€
cafe.svg               # ì¹´í˜
garden.svg             # ì •ì›
sunset.svg             # ì„ì–‘
```

## ğŸ”— ì”¬ ì—°ê²° ê·œì¹™

1. **ë¸”ë¡ ë‚´ ì´ë™**: `nextScriptId` ì‚¬ìš©
   - ê°™ì€ ë¸”ë¡ íŒŒì¼ ë‚´ì˜ ë‹¤ë¥¸ ì”¬ìœ¼ë¡œ ì´ë™
   
2. **ë¸”ë¡ ê°„ ì´ë™**: `nextBlockId` ì‚¬ìš©
   - ë‹¤ë¥¸ ë¸”ë¡ íŒŒì¼ë¡œ ì´ë™
   - ì„ íƒì§€ì—ì„œ ì£¼ë¡œ ì‚¬ìš©

3. **ìš°ì„ ìˆœìœ„**: `nextBlockId` > `nextScriptId`
   - ë‘˜ ë‹¤ ìˆìœ¼ë©´ `nextBlockId`ê°€ ìš°ì„ 

4. **ì—”ë”© ì²˜ë¦¬**: ë§ˆì§€ë§‰ ì”¬ì— `nextBlockId: "ending"` ì„¤ì •

## âœï¸ ì‘ì„± ì˜ˆì‹œ

### ì™„ì „í•œ ë¸”ë¡ ì˜ˆì‹œ

```json
{
  "blockId": "intro",
  "title": "í•™êµ ì²«ë‚ ",
  "startId": "opening",
  "lines": [
    {
      "id": "opening",
      "type": "dialogue",
      "character": "ë‚´ë ˆì´í„°",
      "background": "school_entrance.svg",
      "text": "ë´„ë°”ëŒì´ ì‚´ë‘ì´ëŠ” 4ì›”, ìƒˆ í•™ê¸°ê°€ ì‹œì‘ë˜ì—ˆë‹¤.",
      "nextScriptId": "meet_sakura"
    },
    {
      "id": "meet_sakura",
      "type": "dialogue",
      "character": "ì‚¬ì¿ ë¼",
      "characterImage": "sakura_happy.svg",
      "characterPosition": "center-left",
      "background": "school_entrance.svg",
      "text": "ì•ˆë…•! ë‚˜ëŠ” ì‚¬ì¿ ë¼ì•¼. ë°˜ê°€ì›Œ!",
      "nextScriptId": "meet_yuki"
    },
    {
      "id": "meet_yuki",
      "type": "dialogue",
      "character": "ìœ í‚¤",
      "characterImage": "yuki_normal.svg",
      "characterPosition": "center-right",
      "background": "school_entrance.svg",
      "text": "...ì•ˆë…•. ìœ í‚¤ë¼ê³  í•´.",
      "nextScriptId": "first_choice"
    },
    {
      "id": "first_choice",
      "type": "choice",
      "character": "ì‚¬ì¿ ë¼",
      "characterImage": "sakura_happy.svg",
      "characterPosition": "center-left",
      "background": "school_entrance.svg",
      "text": "í•™êµë¥¼ êµ¬ê²½í•´ë³¼ë˜? ì–´ë””ë¶€í„° ê°ˆê¹Œ?",
      "choices": [
        {
          "text": "ë„ì„œê´€ìœ¼ë¡œ ê°„ë‹¤",
          "nextBlockId": "library_route"
        },
        {
          "text": "ì¹´í˜ë¡œ ê°„ë‹¤",
          "nextBlockId": "cafe_route"
        }
      ]
    }
  ]
}
```

## ğŸ¯ ì‘ì„± íŒ

### 1. ID ëª…ëª… ê·œì¹™
- ë¸”ë¡ ID: `intro`, `library_route`, `ending` ë“± ì˜ë¯¸ ìˆëŠ” ì´ë¦„
- ì”¬ ID: `opening`, `meet_character`, `choice_01` ë“± ìˆœì°¨ì ì´ê³  ì„¤ëª…ì ì¸ ì´ë¦„

### 2. ìŠ¤í† ë¦¬ êµ¬ì¡°
```
intro (ì‹œì‘)
  â†“
choice (ì„ íƒì§€)
  â”œâ”€â†’ route_a â†’ ending_a
  â”œâ”€â†’ route_b â†’ ending_b
  â””â”€â†’ route_c â†’ ending_c
```

### 3. ìºë¦­í„° ëŒ€í™”
- ìºë¦­í„° ì´ë¦„ì€ ì¼ê´€ì„± ìˆê²Œ ì‚¬ìš©
- ë‚´ë ˆì´ì…˜ì€ `character: "ë‚´ë ˆì´í„°"` ì‚¬ìš©
- ìºë¦­í„° ì—†ëŠ” ì”¬ì€ character í•„ë“œ ìƒëµ ê°€ëŠ¥

### 4. ë°°ê²½ ì „í™˜
- ì¥ì†Œê°€ ë°”ë€” ë•Œë§Œ background í•„ë“œ ë³€ê²½
- ê°™ì€ ì¥ì†Œë©´ ìƒëµ ê°€ëŠ¥ (ì´ì „ ë°°ê²½ ìœ ì§€)

### 5. ì„ íƒì§€ ì„¤ê³„
- 2~4ê°œ ì„ íƒì§€ ê¶Œì¥
- ê° ì„ íƒì§€ëŠ” ëª…í™•í•˜ê³  êµ¬ë³„ë˜ëŠ” ê²°ê³¼ë¡œ ì´ì–´ì ¸ì•¼ í•¨
- ì¤‘ìš”í•œ ë¶„ê¸°ì ì—ë§Œ ì‚¬ìš©

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **JSON ë¬¸ë²• ì¤€ìˆ˜**: ì‰¼í‘œ, ë”°ì˜´í‘œ, ì¤‘ê´„í˜¸ ì •í™•íˆ ì‚¬ìš©
2. **ID ì¤‘ë³µ ê¸ˆì§€**: ê°™ì€ ë¸”ë¡ ë‚´ì—ì„œ id ì¤‘ë³µ ë¶ˆê°€
3. **ìˆœí™˜ ì°¸ì¡° ë°©ì§€**: nextScriptIdë¡œ ë¬´í•œ ë£¨í”„ ë§Œë“¤ì§€ ì•Šê¸°
4. **ì´ë¯¸ì§€ íŒŒì¼ í™•ì¸**: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ íŒŒì¼ëª… ì‚¬ìš© ê¸ˆì§€
5. **ë§ˆì§€ë§‰ ì”¬ ì²˜ë¦¬**: ëª¨ë“  ë£¨íŠ¸ì˜ ë§ˆì§€ë§‰ì—ëŠ” nextBlockId ë˜ëŠ” nextScriptId í•„ìš”

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
src/VisualNovel/Script/
â”œâ”€â”€ blocks/
â”‚   â”œâ”€â”€ intro.json
â”‚   â”œâ”€â”€ library_route.json
â”‚   â”œâ”€â”€ cafe_route.json
â”‚   â”œâ”€â”€ ending.json
â”‚   â””â”€â”€ ...
â””â”€â”€ config.json  # { "startBlockId": "intro" }
```

## ğŸš€ ì‘ì„± í”„ë¡œì„¸ìŠ¤

1. **ìŠ¤í† ë¦¬ ê¸°íš**: ì „ì²´ ìŠ¤í† ë¦¬ êµ¬ì¡° ì„¤ê³„
2. **ë¸”ë¡ ë¶„ë¦¬**: ì˜ë¯¸ ìˆëŠ” ë‹¨ìœ„ë¡œ ë¸”ë¡ ë‚˜ëˆ„ê¸°
3. **ì”¬ ì‘ì„±**: ê° ë¸”ë¡ì˜ ì”¬ë“¤ ì‘ì„±
4. **ì—°ê²° ì„¤ì •**: nextScriptId, nextBlockIdë¡œ ì—°ê²°
5. **ê²€ì¦**: JSON ë¬¸ë²• ì˜¤ë¥˜ í™•ì¸
6. **í…ŒìŠ¤íŠ¸**: ì‹¤ì œ ê²Œì„ì—ì„œ ë™ì‘ í™•ì¸

---

ì´ ê°€ì´ë“œë¥¼ ì°¸ê³ í•˜ì—¬ ì¼ê´€ì„± ìˆê³  ì™„ì„±ë„ ë†’ì€ ë¹„ì£¼ì–¼ ë…¸ë²¨ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ì„¸ìš”!
